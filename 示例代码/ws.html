<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <title>WS Test</title>
</head>

<body>
    <div id="result"></div>

    <!--js-->
    <script>
        if (window.WebSocket) {
            var ws = new WebSocket('ws://localhost:8001');

            ws.onopen = function(e) {
                console.log("连接服务器成功");
                // 向服务器发送消息
                ws.send("what`s your name?");
            }
            ws.onclose = function(e) {
                console.log("服务器关闭");
            }
            ws.onerror = function() {
                    console.log("连接出错");
                }
                // 接收服务器的消息
            ws.onmessage = function(e) {
                let message = "message:" + e.data + "";
                //console.log(message);
                document.getElementById('result').innerHTML = message + '<br>';
            }
        }
    </script>
</body>

</html>